(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__10Mh4",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2sRx_"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1hnjP",pagination:"ImageGallery_pagination__1G28h"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__33Ypd",Modal:"Modal_Modal__3ihEg"}},25:function(e,t,a){e.exports={Button:"LoadMorebutton_Button__1eRMO"}},5:function(e,t,a){e.exports={SearchForm:"Searchbar_SearchForm__UoHRL",SearchFormButton:"Searchbar_SearchFormButton__3kjAo",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3_tJT",SearchFormInput:"Searchbar_SearchFormInput__31aaZ",Searchbar:"Searchbar_Searchbar__2pSmi"}},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),l=a(4),u=a(10),i=a.n(u);function s(e){var t=e.pageNumber,a=e.query;return i.a.get("?q=".concat(a,"&page=").concat(t,"&key=").concat("19970182-43374a871d90ac8a22fd423a0","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data}))}i.a.defaults.baseURL="https://pixabay.com/api/";var b=a(5),g=a.n(b),d=a(1),m=function(e){var t=e.HandleQueryInput,a=e.SetPageNumber,r=Object(n.useState)(""),o=Object(l.a)(r,2),c=o[0],u=o[1];return Object(d.jsx)("header",{className:g.a.Searchbar,children:Object(d.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c),a(1)},children:[Object(d.jsx)("button",{className:g.a.SearchFormButton,type:"submit",children:Object(d.jsx)("span",{className:g.a.SearchFormButtonLabel,children:"Search"})}),Object(d.jsx)("input",{className:g.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){0===e.target.value.length&&u(""),u(e.target.value)}})]})})},j=a(28),h=a(11),f=a.n(h),p=a(15),O=a(24),S=a(12),y=a.n(S),_=function(e){var t=e.previewURL,a=e.tags,n=e.HandlePictureModal,r=e.largeImageURL,o=e.ToggleModal;return Object(d.jsx)("li",{className:y.a.ImageGalleryItem,children:Object(d.jsx)("img",{onClick:function(e){n(r),o()},src:t,alt:a,className:y.a.ImageGalleryItemImage})})},x=a(13),v=a.n(x),I=a(25),N=a.n(I),M=function(e){var t=e.HandleLoadMoreButton;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",{className:N.a.Button,onClick:function(){return t()},type:"button",children:"Load more"})})},F=a(26),L=a.n(F),w=function(e){var t=e.query,a=e.pageNumber,r=e.ToggleLoader,o=e.ToggleGalleryState,c=e.ToggleFound,u=e.SetPageNumber,i=e.HandleLoadMoreButton,b=e.HandlePictureModal,g=e.ToggleModal,m=Object(n.useState)([]),h=Object(l.a)(m,2),S=h[0],y=h[1],x=Object(n.useState)(0),I=Object(l.a)(x,2),N=I[0],F=I[1];Object(n.useEffect)((function(){y([]),w()}),[t]),Object(n.useEffect)((function(){y([]),w()}),[a]),Object(n.useEffect)((function(){return""===t&&y([]),function(){S.length>0&&o(!0)}})),Object(n.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[]);var w=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.next=3,s({query:t,pageNumber:a}).then((function(e){return y([].concat(Object(p.a)(S),Object(p.a)(e.hits))),F(Math.round(e.totalHits/12))})).finally((function(){return r()}));case 3:S.length>0&&o(!0),c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ul",{className:v.a.ImageGallery,children:S.map((function(e){return Object(d.jsx)(_,Object(j.a)({ToggleModal:g,HandlePictureModal:b},e),e.id)}))}),S.length>0&&Object(d.jsx)(M,{HandleLoadMoreButton:i}),Object(d.jsx)("div",{children:Object(d.jsx)(L.a,{pageCount:N,previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){y([]),u(e.selected+1)},containerClassName:v.a.pagination,subContainerClassName:"pages pagination",activeClassName:"active"})})]})},G=a(14),P=a.n(G),T=document.querySelector("#modal"),k=function(e){var t=e.ToggleModal,a=e.bigPicture;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);var r=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(d.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&t()},className:P.a.Overlay,children:Object(d.jsx)("div",{className:P.a.Modal,children:Object(d.jsx)("img",{src:a,alt:""})})}),T)},B=a(27),H=a.n(B),C=(a(74),function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(1),c=Object(l.a)(o,2),u=c[0],i=c[1],s=Object(n.useState)(""),b=Object(l.a)(s,2),g=b[0],j=b[1],h=Object(n.useState)(!1),f=Object(l.a)(h,2),p=f[0],O=f[1],S=Object(n.useState)(!1),y=Object(l.a)(S,2),_=y[0],x=y[1],v=Object(n.useState)(!1),I=Object(l.a)(v,2),N=I[0],M=I[1],F=Object(n.useState)(!1),L=Object(l.a)(F,2),G=L[0],P=L[1],T=function(){O(!p)},B=function(e){i(e)};return Object(d.jsxs)("div",{className:"container",children:[p&&Object(d.jsx)(k,{ToggleModal:T,bigPicture:g}),Object(d.jsx)(m,{SetPageNumber:B,HandleQueryInput:function(e){r(e)}}),a.length>0&&Object(d.jsx)(w,{ToggleFound:function(){P(!0)},ToggleGalleryState:function(e){M(e)},ToggleLoader:function(){x(!_)},ToggleModal:T,HandleLoadMoreButton:function(){i(u+1)},HandlePictureModal:function(e){j(e)},SetPageNumber:B,query:a,pageNumber:u,bigPicture:g,showModal:p,loader:_,galleryPresent:N,nothingFound:G}),!N&&!_&&G&&Object(d.jsx)("span",{children:"Nothing was found"}),_&&Object(d.jsx)(H.a,{className:"Loader",type:"TailSpin",color:"#00BFFF",height:150,width:150,timeout:6e3})]})});c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.fd38a904.chunk.js.map