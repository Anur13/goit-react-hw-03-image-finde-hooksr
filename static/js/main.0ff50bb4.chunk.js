(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__10Mh4",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2sRx_"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1hnjP",pagination:"ImageGallery_pagination__1G28h"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__33Ypd",Modal:"Modal_Modal__3ihEg"}},25:function(e,t,a){e.exports={Button:"LoadMorebutton_Button__1eRMO"}},5:function(e,t,a){e.exports={SearchForm:"Searchbar_SearchForm__UoHRL",SearchFormButton:"Searchbar_SearchFormButton__3kjAo",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3_tJT",SearchFormInput:"Searchbar_SearchFormInput__31aaZ",Searchbar:"Searchbar_Searchbar__2pSmi"}},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),u=a(4),l=a(12),i=a.n(l);function s(e){var t=e.pageNumber,a=e.query;return i.a.get("?q=".concat(a,"&page=").concat(t,"&key=").concat("19970182-43374a871d90ac8a22fd423a0","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data}))}i.a.defaults.baseURL="https://pixabay.com/api/";var b=a(5),g=a.n(b),m=a(1),d=function(e){var t=e.HandleQueryInput,a=e.SetPageNumber,r=Object(n.useState)(""),o=Object(u.a)(r,2),c=o[0],l=o[1];return Object(m.jsx)("header",{className:g.a.Searchbar,children:Object(m.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c),a(1)},children:[Object(m.jsx)("button",{className:g.a.SearchFormButton,type:"submit",children:Object(m.jsx)("span",{className:g.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:g.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){0===e.target.value.length&&l(""),l(e.target.value)}})]})})},h=a(28),j=a(7),f=a.n(j),p=a(10),O=a(13),y=a(14),S=a.n(y),x=function(e){var t=e.previewURL,a=e.tags,n=e.HandlePictureModal,r=e.largeImageURL,o=e.ToggleModal;return Object(m.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(m.jsx)("img",{onClick:function(e){n(r),o()},src:t,alt:a,className:S.a.ImageGalleryItemImage})})},_=a(15),v=a.n(_),I=a(25),N=a.n(I),M=function(e){var t=e.HandleLoadMoreButton;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:N.a.Button,onClick:function(){return t()},type:"button",children:"Load more"})})},w=a(26),F=a.n(w),L=function(e){var t=e.query,a=e.pageNumber,r=e.ToggleLoader,o=e.ToggleGalleryState,c=e.ToggleFound,l=e.SetPageNumber,i=e.HandleLoadMoreButton,b=e.HandlePictureModal,g=e.ToggleModal,d=Object(n.useState)([]),j=Object(u.a)(d,2),y=j[0],S=j[1],_=Object(n.useState)(0),I=Object(u.a)(_,2),N=I[0],w=I[1];console.log(y),Object(n.useEffect)((function(){console.log(1),S([]),T(),window.scrollTo({bottom:document.documentElement.scrollHeight,behavior:"smooth"})}),[t]),Object(n.useEffect)((function(){S([]),L(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[a]),Object(n.useEffect)((function(){return""===t&&S([]),function(){y.length>0&&o(!0)}}),[]);var L=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(),e.next=3,s({query:t,pageNumber:a}).then((function(e){S((function(t){return[].concat(Object(p.a)(y),Object(p.a)(e.hits))})),w(Math.round(e.totalHits/12))})).finally((function(){return r()}));case 3:y.length>0&&o(!0),c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(1),r(),e.next=4,s({query:t,pageNumber:a}).then((function(e){S((function(t){return Object(p.a)(e.hits)})),w(Math.round(e.totalHits/12))})).finally((function(){return r()}));case 4:y.length>0&&o(!0),c();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:v.a.ImageGallery,children:y.map((function(e){return Object(m.jsx)(x,Object(h.a)({ToggleModal:g,HandlePictureModal:b},e),e.id)}))}),y.length>0&&Object(m.jsx)(M,{HandleLoadMoreButton:i}),Object(m.jsx)("div",{children:Object(m.jsx)(F.a,{pageCount:N,previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){S([]),l(e.selected+1)},containerClassName:v.a.pagination,subContainerClassName:"pages pagination",activeClassName:"active"})})]})},T=a(16),k=a.n(T),G=document.querySelector("#modal"),P=function(e){var t=e.ToggleModal,a=e.bigPicture;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);var r=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(m.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&t()},className:k.a.Overlay,children:Object(m.jsx)("div",{className:k.a.Modal,children:Object(m.jsx)("img",{src:a,alt:""})})}),G)},B=a(27),H=a.n(B),C=(a(74),function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(1),c=Object(u.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(""),b=Object(u.a)(s,2),g=b[0],h=b[1],j=Object(n.useState)(!1),f=Object(u.a)(j,2),p=f[0],O=f[1],y=Object(n.useState)(!1),S=Object(u.a)(y,2),x=S[0],_=S[1],v=Object(n.useState)(!1),I=Object(u.a)(v,2),N=I[0],M=I[1],w=Object(n.useState)(!1),F=Object(u.a)(w,2),T=F[0],k=F[1],G=function(){O(!p)},B=function(e){i(e)};return Object(m.jsxs)("div",{className:"container",children:[p&&Object(m.jsx)(P,{ToggleModal:G,bigPicture:g}),Object(m.jsx)(d,{SetPageNumber:B,HandleQueryInput:function(e){r(e)}}),a.length>0&&Object(m.jsx)(L,{ToggleFound:function(){k(!0)},ToggleGalleryState:function(e){M(e)},ToggleLoader:function(){_(!x)},ToggleModal:G,HandleLoadMoreButton:function(){i(l+1)},HandlePictureModal:function(e){h(e)},SetPageNumber:B,query:a,pageNumber:l,bigPicture:g,showModal:p,loader:x,galleryPresent:N,nothingFound:T}),!N&&!x&&T&&Object(m.jsx)("span",{children:"Nothing was found"}),x&&Object(m.jsx)(H.a,{className:"Loader",type:"TailSpin",color:"#00BFFF",height:150,width:150,timeout:6e3})]})});c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.0ff50bb4.chunk.js.map